<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Carta • Convite de 15 Anos</title>
  <style>
    :root{
      --bg: #0f0d0d;
      --envelope: #b12b2b;
      --envelope-shadow: #8f1f1f;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      display:grid; place-items:center; padding:24px; color:#fff;
    }

    /* container central */
    .wrapper{width:100%; max-width:520px; display:flex; justify-content:center}

    /* envelope (fechado) */
    .envelope-wrapper{position:relative; width:360px}
    .envelope{width:100%; height:240px; border-radius:10px; position:relative; box-shadow:0 18px 40px rgba(0,0,0,.5); cursor:pointer;}

    /* desenhos do envelope (mantive o visual anterior) */
    .env-base{position:absolute; inset:0; background:linear-gradient(#c53434, var(--envelope)); border-radius:10px; overflow:hidden; z-index:1}
    .env-left, .env-right{position:absolute; top:0; bottom:0; width:55%; z-index:2}
    .env-left{left:0; clip-path:polygon(0 0, 0 100%, 76% 50%); background:linear-gradient(90deg,#a72626,#c43333)}
    .env-right{right:0; clip-path:polygon(100% 0, 24% 50%, 100% 100%); background:linear-gradient(90deg,#cf3b3b,#a72424)}
    .env-bottom{position:absolute; left:0; right:0; bottom:0; height:55%; clip-path:polygon(0 0, 50% 65%, 100% 0, 100% 100%, 0 100%); background:linear-gradient(#9f2020,#8a1b1b); z-index:1}
    .env-flap{position:absolute; inset:0; clip-path:polygon(0 0, 100% 0, 50% 58%); background:linear-gradient(180deg, #d74343, #b92f2f); z-index:3}

    /* texto sobre o envelope (na frente) */
    .message{
      position:absolute; left:50%; top:62%; transform:translate(-50%, -50%);
      z-index:4; pointer-events:none; /* permite clicar no envelope por trás do texto */
      font-size:1.05rem; font-weight:600; color:#fff; text-shadow:0 6px 18px rgba(0,0,0,.55);
      text-align:center; width:90%;
    }

    /* efeito visual ao clicar: leve "press" */
    .envelope:active{ transform:translateY(2px) scale(.998); }

    /* lightbox */
    dialog#lightbox{ width:min(92vw, 860px); border:0; border-radius:14px; padding:0; background:#0e0b0a; box-shadow:0 30px 100px rgba(0,0,0,.6) }
    dialog#lightbox::backdrop{ background:rgba(0,0,0,.6); backdrop-filter: blur(2px); }
    .img-wrap img{ display:block; width:100%; height:auto; border-radius:12px; }
    .close{ position:absolute; top:10px; right:10px; background:rgba(255,255,255,.06); color:#fff; border:0; border-radius:10px; padding:10px 12px; font-size:14px; cursor:pointer }

    /* acessibilidade: foco no "botão" envelope quando navegado por teclado */
    .envelope[role="button"]:focus{ outline:3px solid rgba(215,179,94,.18); outline-offset:6px }

    @media (max-width:420px){
      .envelope-wrapper{width:92vw}
    }
  </style>
</head>
<body>
  <main class="wrapper">
    <div class="envelope-wrapper">
      <!-- envelope fechado (APENAS ele é visível inicialmente) -->
      <div class="envelope" id="envelope" role="button" tabindex="0" aria-label="Abrir convite: clique ou pressione Enter">
        <div class="env-base" aria-hidden="true"></div>
        <div class="env-left" aria-hidden="true"></div>
        <div class="env-right" aria-hidden="true"></div>
        <div class="env-bottom" aria-hidden="true"></div>
        <div class="env-flap" aria-hidden="true"></div>
        <!-- mensagem sobreposta: na frente do envelope -->
        <div class="message">Convite Especial. Clique para abrir o convite.</div>
      </div>
    </div>
  </main>

  <!-- lightbox que mostra a imagem do convite ao clicar no envelope -->
  <dialog id="lightbox" aria-label="Convite">
    <div class="img-wrap">
      <!-- substitua o src pelo seu arquivo real (mesma pasta) -->
      <img id="inviteImg" alt="Convite de 15 anos" src="convite.png" />
      <button class="close" id="closeBtn" aria-label="Fechar">✕</button>
    </div>
  </dialog>

  <script>
    const envelope = document.getElementById('envelope');
    const lightbox = document.getElementById('lightbox');
    const closeBtn = document.getElementById('closeBtn');

    function openInvite(){
      // abre apenas o lightbox com o convite da imagem
      if(typeof lightbox.showModal === 'function'){
        lightbox.showModal();
      } else {
        // fallback simples para browsers antigos
        window.open(document.getElementById('inviteImg').src, '_blank');
      }
    }

    envelope.addEventListener('click', openInvite);
    envelope.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openInvite(); }});

    closeBtn.addEventListener('click', ()=> lightbox.close());
    lightbox.addEventListener('click', (e)=>{ if(e.target === lightbox) lightbox.close(); });
    document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && lightbox.open) lightbox.close(); });
  </script>
</body>
</html>
